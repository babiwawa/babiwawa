var U=Object.defineProperty;var O=(n,e,s)=>e in n?U(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var g=(n,e,s)=>(O(n,typeof e!="symbol"?e+"":e,s),s);import{u as z,i as I}from"./action-dcd662bd.js";import{c as u}from"./radix-56f2acb1.js";import{A as w,k as f,aF as _,as as h,m as A,bj as p,x as o,bi as P,aA as j,o as y,F as v,aD as K,n as X}from"./history-5e0c3cab.js";import"./_commonjsHelpers-87174ba5.js";const $=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","HT","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","SPACE","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],C={NUL:$t("ascii_code_nul"),SOH:$t("ascii_code_soh"),STX:$t("ascii_code_stx"),ETX:$t("ascii_code_etx"),EOT:$t("ascii_code_eot"),ENQ:$t("ascii_code_enq"),ACK:$t("ascii_code_ack"),BEL:$t("ascii_code_bel"),BS:$t("ascii_code_bs"),HT:$t("ascii_code_tab"),LF:$t("ascii_code_lf"),VT:$t("ascii_code_vt"),FF:$t("ascii_code_ff"),CR:$t("ascii_code_cr"),SO:$t("ascii_code_so"),SI:$t("ascii_code_si"),DLE:$t("ascii_code_dle"),DC1:$t("ascii_code_dc1"),DC2:$t("ascii_code_dc2"),DC3:$t("ascii_code_dc3"),DC4:$t("ascii_code_dc4"),NAK:$t("ascii_code_nak"),SYN:$t("ascii_code_syn"),ETB:$t("ascii_code_etb"),CAN:$t("ascii_code_can"),EM:$t("ascii_code_em"),SUB:$t("ascii_code_sub"),ESC:$t("ascii_code_esc"),FS:$t("ascii_code_fs"),GS:$t("ascii_code_gs"),RS:$t("ascii_code_rs"),US:$t("ascii_code_us"),DEL:$t("ascii_code_del"),SPACE:$t("ascii_code_space")};class M{constructor(e,s="str"){g(this,"decData");let t=-1;switch(e=`${e}`,s!=="str"&&(e=e.toLowerCase()),s){case"str":t=e.charCodeAt(0);break;case"dec":/^[0-9 ]+$/.test(e)&&(t=parseInt(u(e,10,10)));break;case"hex":/^[0-9a-f ]+$/.test(e)&&(t=parseInt(u(e,16,10)));break;case"oct":/^[0-7 ]+$/.test(e)&&(t=parseInt(u(e,8,10)));break;case"bin":/^[0-1 ]+$/.test(e)&&(t=parseInt(u(e.replace(/\b(0+)/gi,""),2,10)));break;default:throw new Error("type error")}if(t<0||t>127)throw new Error(`"${e}": input error`);this.decData=`${t}`}dec(){return this.decData+""}hex(){return(u(this.decData,10,16)+"").toUpperCase()}oct(){return u(this.decData,10,8)+""}bin(){return(u(this.decData,10,2)+"").padStart(8,"0")}str(){const e=$[this.decData],s={SPACE:" ",HT:"	",LF:`
`,CR:"\r"};return e in s?s[e]:Object.keys(C).includes(e)?`[${e}]`:$[this.decData]}}const m=(n,e,s)=>{if(n==="")return"";if(e==="str")for(let c of Object.keys(C))n=n.replace(new RegExp(`\\[${c}\\]`,"g"),String.fromCharCode($.indexOf(c)));let t=[];for(const c of n.split(e==="str"?"":" ")){if(e!=="str"&&c==="")continue;let a=new M(c,e);t.push(a[s]())}return t.join(s==="str"?"":" ")},G=w({__name:"Reference",setup(n){const e=f(()=>{let t=[];for(let c in $){const a=!($[c]in C);t.push({dec:`${c}`,hex:m(c,"dec","hex"),oct:m(c,"dec","oct"),bin:m(c,"dec","bin"),str:$[c],is_visible:a?$t("ascii_yes"):$t("ascii_no"),explain:a?"":C[$[c]]})}return t}),s=[{title:$t("ascii_input_dec"),key:"dec",width:70},{title:$t("ascii_input_hex"),key:"hex",width:90},{title:$t("ascii_input_oct"),key:"oct",width:70},{title:$t("ascii_input_bin"),key:"bin",width:95},{title:$t("ascii_input_str"),key:"str",width:70},{title:$t("ascii_is_visible"),key:"is_visible",width:90},{title:$t("ascii_description"),key:"explain"}];return(t,c)=>{const a=_("Table"),l=_("HeightResize");return h(),A(l,null,{default:p(({height:b})=>[o(a,{columns:s,lists:e.value,height:b},null,8,["lists","height"])]),_:1})}}}),Z=w({__name:"Ascii",async setup(n){let e,s;const t=z(([e,s]=P(()=>I({type:"",input:""},{paste:!1})),e=await e,s(),e));let c=j(!1);const a=i=>{if(t.current.type===""||t.current.input==="")return"";if(t.current.type===i)return t.current.input;try{return m(t.current.input,t.current.type,i)}catch(r){return $error(r)}},l=(i,r)=>{t.current.input=r,t.current.type=i,t.current.input!==""&&t.save()},b=f({get:()=>a("dec"),set:i=>l("dec",i)}),B=f({get:()=>a("hex"),set:i=>l("hex",i)}),L=f({get:()=>a("oct"),set:i=>l("oct",i)}),T=f({get:()=>a("bin"),set:i=>l("bin",i)}),F=f({get:()=>a("str"),set:i=>l("str",i)}),S={dec:b,hex:B,oct:L,bin:T,str:F};return(i,r)=>{const H=_("Textarea"),x=_("Button"),D=_("Align"),N=_("Display"),R=_("HeightResize"),V=_("ExtendPage");return h(),y(v,null,[o(R,null,{default:p(({height:E})=>[o(D,{direction:"vertical"},{default:p(()=>[(h(),y(v,null,K(["str","bin","oct","dec","hex"],d=>o(N,{position:"bottom-right"},{extra:p(()=>[o(D,null,{default:p(()=>[d==="str"?(h(),A(x,{key:0,size:"small",onClick:r[0]||(r[0]=k=>c.value=!c.value),text:i.$t("main_ui_reference")},null,8,["text"])):X("",!0),o(x,{size:"small",type:"primary",onClick:k=>i.$copy(S[d].value),text:i.$t(`ascii_input_${d}`)},null,8,["onClick","text"])]),_:2},1024)]),default:p(()=>[o(H,{modelValue:S[d].value,"onUpdate:modelValue":k=>S[d].value=k,placeholder:d==="str"?i.$t("ascii_input_str_prompt"):i.$t("ascii_input_prompt",[i.$t(`ascii_input_${d}`)]),height:(E-20)/5},null,8,["modelValue","onUpdate:modelValue","placeholder","height"])]),_:2},1024)),64))]),_:2},1024)]),_:1}),o(V,{modelValue:c.value,"onUpdate:modelValue":r[1]||(r[1]=E=>c.value=E)},{default:p(()=>[o(G)]),_:1},8,["modelValue"])],64)}}});export{Z as default};
