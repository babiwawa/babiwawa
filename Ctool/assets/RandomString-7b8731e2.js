import{u as L,i as R}from"./action-dcd662bd.js";import{b as H,S as T}from"./index-27512acb.js";import{A as D,bi as x,aA as G,k as y,al as J,be as I,o as K,x as o,bj as d,a$ as a,F as P,aF as s,as as U,m as O,bu as b}from"./history-5e0c3cab.js";import"./___vite-browser-external_commonjs-proxy-d2112d3c.js";import"./_commonjsHelpers-87174ba5.js";import"./index-97821989.js";const le=D({__name:"RandomString",async setup(Q){let f,B;const r="small",_="0123456789",V="abcdefghijklmnopqrstuvwxyz",h="ABCDEFGHIJKLMNOPQRSTUVWXYZ",j="`~!@#$%^&*()-_=+[{]}|;:',<.>/?",t=L(([f,B]=x(()=>R({amount:10,length:32,delimiter:",\\n",serialize:!1,serialize_config:H("json"),is_add_quote:!1,base:`${_}${V}${h}`,result:[]})),f=await f,B(),f));let u=G({base:t.current.base,show:!1});const k=()=>{let l=`${t.current.base}`,e=[];for(let i=0,c=t.current.amount;i<c;i++){let v=l.split(""),$="";for(let m=0,w=t.current.length;m<w&&!(v.length<1);m++){let S=Math.floor(Math.random()*v.length);$+=v[S]}e.push($)}t.current.result=e},A=y(()=>T.formObject(t.current.serialize&&t.current.result.length>0?{lists:t.current.result}:{})),q=y(()=>t.current.result.map(l=>t.current.is_add_quote?`"${l}"`:l).join(t.current.delimiter.replace(/\\n/g,`
`)));J(()=>{t.current.result.length<1&&k()}),I(()=>({amount:t.current.amount,length:t.current.length,base:t.current.base}),()=>{k()}),I(()=>t.current,l=>{l.result.length<1||t.save()},{deep:!0,immediate:!0});const g=l=>{if(l==="reset"){u.value.base=`${_}${V}${h}`;return}let e=`${u.value.base}`.split("");const i=({digital:`${_}`,lowercase:`${V}`,uppercase:`${h}`,symbol:`${j}`}[l]||"").split("");i.length>0&&(console.log(b.intersection(e,i)),b.intersection(e,i).length>0?e=e.filter(c=>!i.includes(c)):e=[...e,...i]),u.value.base=[...new Set(e)].join("")},z=y(()=>{let l=`${u.value.base}`.split("");return{digital:b.intersection(l,_.split("")).length>0,lowercase:b.intersection(l,V.split("")).length>0,uppercase:b.intersection(l,h.split("")).length>0,symbol:b.intersection(l,j.split("")).length>0}});return(l,e)=>{const i=s("Editor"),c=s("SerializeOutput"),v=s("HeightResize"),$=s("Icon"),m=s("Button"),w=s("Input"),S=s("InputNumber"),p=s("Bool"),C=s("Align"),E=s("Card"),M=s("Textarea"),N=s("Modal");return U(),K(P,null,[o(C,{direction:"vertical"},{default:d(()=>[o(v,{reduce:5,append:[".ctool-page-option"]},{default:d(({height:n})=>[a(t).current.serialize?(U(),O(c,{key:1,modelValue:a(t).current.serialize_config,"onUpdate:modelValue":e[0]||(e[0]=F=>a(t).current.serialize_config=F),allow:["json","xml","yaml","toml","properties","php_array"],height:n,content:A.value},null,8,["modelValue","height","content"])):(U(),O(i,{key:0,disableLineNumbers:"","model-value":q.value,height:`${n}px`,placeholder:l.$t("main_ui_output")},null,8,["model-value","height","placeholder"]))]),_:1},8,["append"]),o(E,{class:"ctool-page-option"},{default:d(()=>[o(C,{horizontal:"center"},{default:d(()=>[o(w,{size:r,modelValue:a(t).current.base,"onUpdate:modelValue":e[2]||(e[2]=n=>a(t).current.base=n),width:200},{append:d(()=>[o(m,{onClick:e[1]||(e[1]=n=>{u.value.base=a(t).current.base,u.value.show=!0})},{default:d(()=>[o($,{hover:"",name:"setting",tooltip:l.$t("main_ui_setting"),size:12},null,8,["tooltip"])]),_:1})]),_:1},8,["modelValue"]),o(S,{size:r,modelValue:a(t).current.length,"onUpdate:modelValue":e[3]||(e[3]=n=>a(t).current.length=n),width:100,label:l.$t("randomString_length")},null,8,["modelValue","label"]),o(S,{size:r,modelValue:a(t).current.amount,"onUpdate:modelValue":e[4]||(e[4]=n=>a(t).current.amount=n),width:100,label:l.$t("randomString_amount")},null,8,["modelValue","label"]),o(p,{size:r,border:"",modelValue:a(t).current.is_add_quote,"onUpdate:modelValue":e[5]||(e[5]=n=>a(t).current.is_add_quote=n),label:l.$t("randomString_add_quote"),disabled:a(t).current.serialize},null,8,["modelValue","label","disabled"]),o(w,{size:r,modelValue:a(t).current.delimiter,"onUpdate:modelValue":e[6]||(e[6]=n=>a(t).current.delimiter=n),width:120,label:l.$t("randomString_delimiter"),disabled:a(t).current.serialize},null,8,["modelValue","label","disabled"]),o(p,{size:r,border:"",modelValue:a(t).current.serialize,"onUpdate:modelValue":e[7]||(e[7]=n=>a(t).current.serialize=n),label:l.$t("uuid_serialize")},null,8,["modelValue","label"]),o(m,{onClick:k,size:r},{default:d(()=>[o($,{name:"refresh",size:12})]),_:1})]),_:1})]),_:1})]),_:1}),o(N,{title:`${l.$t("main_ui_setting")} ${l.$t("randomString_chars")}`,modelValue:u.value.show,"onUpdate:modelValue":e[14]||(e[14]=n=>u.value.show=n),"footer-type":"long",onOk:e[15]||(e[15]=n=>{a(t).current.base=u.value.base,u.value.show=!1})},{default:d(()=>[o(C,{direction:"vertical"},{default:d(()=>[o(M,{modelValue:u.value.base,"onUpdate:modelValue":e[8]||(e[8]=n=>u.value.base=n),height:300},null,8,["modelValue"]),o(C,{horizontal:"center"},{default:d(()=>[o(p,{size:r,border:"",label:l.$t("randomString_digital"),"model-value":z.value.digital,onChange:e[9]||(e[9]=n=>g("digital"))},null,8,["label","model-value"]),o(p,{size:r,border:"",label:l.$t("randomString_lowercase"),"model-value":z.value.lowercase,onChange:e[10]||(e[10]=n=>g("lowercase"))},null,8,["label","model-value"]),o(p,{size:r,border:"",label:l.$t("randomString_uppercase"),"model-value":z.value.uppercase,onChange:e[11]||(e[11]=n=>g("uppercase"))},null,8,["label","model-value"]),o(p,{size:r,border:"",label:l.$t("randomString_symbol"),"model-value":z.value.symbol,onChange:e[12]||(e[12]=n=>g("symbol"))},null,8,["label","model-value"]),o(m,{size:r,text:l.$t("main_ui_reset"),onClick:e[13]||(e[13]=n=>g("reset"))},null,8,["text"])]),_:1})]),_:1})]),_:1},8,["title","modelValue"])],64)}}});export{le as default};
